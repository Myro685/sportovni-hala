<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RezervaÄnÃ­ systÃ©m</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  </head>
  <body>
    <h1>Seznam tÃ½mÅ¯</h1>
    <h2 class="text-black">CigÃ¡ni by mÄ›li bÃ½t trestÄ› odpovÄ›dnÃ­</h2>
    <ul id="tym-list"></ul>

    <script>
      // âœ… SprÃ¡vnÃ¡ inicializace Supabase
      const supabase = window.supabase.createClient(
        "https://xpxurtdkmufuemamajzl.supabase.co",
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhweHVydGRrbXVmdWVtYW1hanpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE5NTk3MzksImV4cCI6MjA1NzUzNTczOX0.uRPj22s06XSTvuuHGz-7oAqfTRp2LqUFTCKxC8QprMU"
      );

      // âœ… SprÃ¡vnÃ¡ async funkce na naÄtenÃ­ tÃ½mÅ¯
      async function fetchTeams() {
        const { data, error } = await supabase.from("Tym").select("*");

        if (error) {
          console.error("Chyba pÅ™i naÄÃ­tÃ¡nÃ­ tÃ½mÅ¯:", error);
          return;
        }

        console.log("ğŸ“Œ NaÄtenÃ© tÃ½my:", data);

        // âœ… VypsÃ¡nÃ­ dat do HTML
        const tymList = document.getElementById("tym-list");
        tymList.innerHTML = "";

        data.forEach((tym) => {
          const li = document.createElement("li");
          li.textContent = `ğŸ† ${tym.Nazevtymu} (ID: ${tym.TymID})`;
          tymList.appendChild(li);
        });
      }

      // âœ… SpuÅ¡tÄ›nÃ­ funkce po naÄtenÃ­ strÃ¡nky
      document.addEventListener("DOMContentLoaded", fetchTeams);
    </script>
  </body>
</html>
